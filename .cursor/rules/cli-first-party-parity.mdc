---
description: CLI-first parity for domain integrations
alwaysApply: true
---

# CLI-first parity

- Treat CLI workflows as first-party product surfaces, not optional tooling.
- For domain integrations, if a capability exists in an API route or admin page, provide a CLI-accessible equivalent through shared domain logic (`features/*`) and `scripts/*` when appropriate.
- Prefer shared service functions over duplicating endpoint logic in CLI code.
- If parity is ambiguous (security, destructive behavior, unclear UX), pause and ask the user to confirm expected CLI behavior before implementing.
- When adding admin maintenance actions (cleanup/purge/reset), add corresponding CLI commands and include them in help text and relevant admin copy-command lists.
