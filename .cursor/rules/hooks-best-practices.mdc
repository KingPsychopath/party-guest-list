---
description: Hook design boundaries and React/Next best practices
alwaysApply: true
---

# Hooks best practices (2026)

## Purpose

- Hooks should encapsulate stateful behavior and side effects, not render markup.
- Use hooks to reduce cognitive load in components by grouping related behavior (filters, form state, async data, preview state).
- Prefer multiple focused hooks over one giant hook that mirrors a giant component.

## Do

- Name hooks by domain intent: `useEditorFilters`, `useWordFormState`, `useMediaPreviewState`.
- Keep hook APIs small and explicit; return only values/actions needed by the consumer.
- Keep shared business logic in `features/*` and call it from hooks/endpoints/CLI.
- Use Server Components for initial data where possible; use client hooks for interactive/ephemeral state.
- Keep side effects scoped and well-cleaned (`useEffect` cleanup for timers/listeners/aborts).
- Compose hooks (small hook calling another focused hook) when it improves clarity.

## Avoid

- Avoid "god hooks" that manage unrelated domains (auth + form + media + share + audit in one hook).
- Avoid hooks that hide destructive behavior without explicit action functions.
- Avoid putting heavy transformation logic in render paths; memoize intentionally or move to domain helpers.
- Avoid duplicating endpoint logic in hooks; hooks should orchestrate, not redefine rules.
- Avoid hooks that are just prop tunnels with no behavior/value.

## Next.js boundary guidance

- Donâ€™t move server-safe logic into client hooks unnecessarily.
- Keep `"use client"` surface minimal: page shells/server routes load data, hooks handle interactivity.
- For mutations, prefer shared domain functions + server actions/API routes; hook calls these interfaces.

## Quality checks

- If a hook exceeds ~200 lines or ~8-10 handlers/effects, consider splitting.
- If a component has many `useState/useEffect` entries, extract domain hooks before adding new UI.
- Hook code should be testable by behavior (input -> state transition/output), not implementation details.

